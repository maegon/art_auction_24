<html layout:decorate="~{/layout/layout}">
<div layout:fragment="content" class="flex-1 flex justify-center items-center">
    <h1 class="text-[20px] font-bold">Art Auction 메인 페이지</h1>
    
    <button id="loginBtn">로그인</button>
    
    <div id="overlay" class="hidden"></div>
    <div class="loginForm-container flex justify-center items-center">
        <div id="loginForm" class="hidden">
            <form>
                <p class="login-title">로그인</p>
                
                <div class="form-item-wrap">
                    <div class="id-input">
                        <input id="component-input-id" class="component-input" name="username" type="text" placeholder value>
                        <label for="component-input-id" class="placeholder">아이디를 입력해 주세요.</label>
                    </div>
                </div>
                <div class="form-item-wrap">
                    <div class="password-input">
                        <input id="component-input-password" class="component-input" name="password" type="password" placeholder value>
                        <label for="component-input-password" class="placeholder">패스워드를 입력해 주세요.</label>
                    </div>
                </div>
                <div class="forgot-btn-wrap">
                    <a href="#">아이디 찾기</a>
                    <a href="#">비밀번호 찾기</a>
                    <a href="#">회원가입</a>
                </div>
                <button type="submit" class="login-submit " disabled>로그인</button>
                <p>소셜 계정으로 로그인하기</p>
                <div class="social-login-wrap">
                    <img src="/image/고라파덕.jpg" alt="카카오로그인" width="60px">
                    <img src="/image/고라파덕.jpg" alt="구글로그인" width="60px">
                </div>
            </form>
            
        </div>
    </div>
</div>
</html>

<!-- 로그인 창 -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loginBtn = document.getElementById('loginBtn');
        const loginForm = document.getElementById('loginForm');
        const overlay = document.getElementById('overlay');
    
        loginBtn.addEventListener('click', () => {
            if (loginForm.classList.contains('hidden')) {
                loginForm.classList.remove('hidden');
                overlay.classList.remove('hidden');
                // Short timeout to allow the DOM to update before adding visible class
                setTimeout(() => {
                    loginForm.classList.add('visible');
                    overlay.classList.add('visible');
                }, 10);
            }
        });
    
        overlay.addEventListener('click', () => {
            loginForm.classList.remove('visible');
            overlay.classList.remove('visible');
            // Match the timeout duration with CSS transition
            setTimeout(() => {
                loginForm.classList.add('hidden');
                overlay.classList.add('hidden');
            }, 500); // Ensure this matches the duration of the opacity transition
        });
    });
    
        document.addEventListener("DOMContentLoaded", function() {
        const loginButton = document.querySelector(".login-submit");
        const usernameInput = document.getElementById("component-input-id");
        const passwordInput = document.getElementById("component-input-password");

        function updateLoginButtonState() {
            if (usernameInput.value.trim() !== "" && passwordInput.value.trim() !== "") {
                loginButton.removeAttribute("disabled");
            } else {
                loginButton.setAttribute("disabled", "true");
            }
        }

        usernameInput.addEventListener("input", updateLoginButtonState);
        passwordInput.addEventListener("input", updateLoginButtonState);
    });
</script>
